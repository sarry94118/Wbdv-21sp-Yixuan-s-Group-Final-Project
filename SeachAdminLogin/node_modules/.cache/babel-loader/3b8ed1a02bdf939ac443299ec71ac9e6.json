{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js\";\nimport React, { useState } from 'react';\nimport Login from \"./login/login\";\nimport Profile from \"./login/profile\";\nimport Register from \"./login/register\";\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\nclass UserManagement extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: '',\n      users: []\n    };\n\n    this.componentDidMount = () => {\n      userService.findAllUsers().then(users => this.setState({\n        users: users\n      }));\n      console.log(this.state.users);\n    };\n\n    this.findUserForUsername = user => {\n      userService.findUserForUsername(user.username).then(newUser => this.setState({\n        user: newUser\n      }));\n      console.log(this.state);\n    };\n\n    this.addUser = user => {\n      userService.createUser(user).then(user => this.setState(prevState => ({ ...prevState,\n        users: [...prevState.users, user]\n      })));\n    };\n\n    this.deleteUser = courseToDelete => {\n      userService.deleteUser(courseToDelete.userId).then(status => {\n        this.setState(prevState => {\n          let nextState = { ...prevState,\n            users: prevState.users.filter(user => user !== courseToDelete)\n          };\n          return nextState;\n        });\n      });\n    };\n\n    this.updateUser = user => {\n      userService.updateUser(user.userId, user).then(status => this.setState(prevState => ({ ...prevState,\n        users: prevState.users.map(c => c.userId === user.userId ? user : c)\n      })));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      onClick: () => this.componentDidMount(),\n      className: \"fas fa-plus float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      findUserForUsername: this.findUserForUsername,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      findUserForUsername: this.findUserForUsername,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Register, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Profile, {\n      findUserForUsername: this.findUserForUsername,\n      updateUser: this.updateUser,\n      user: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default UserManagement;","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js"],"names":["React","useState","Login","Profile","Register","BrowserRouter","Router","Link","Route","Switch","userService","UserManagement","Component","state","user","users","componentDidMount","findAllUsers","then","setState","console","log","findUserForUsername","username","newUser","addUser","createUser","prevState","deleteUser","courseToDelete","userId","status","nextState","filter","updateUser","map","c","render"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport Login from \"./login/login\"\nimport Profile from \"./login/profile\"\nimport Register from \"./login/register\"\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\n\n\nclass UserManagement extends React.Component {\n\n\n\n    state = {\n        user :'',\n        users:[]\n    }\n    componentDidMount=() => {\n\n        userService.findAllUsers()\n            .then(users => this.setState({users:users}))\n        console.log(this.state.users)\n    }\n    findUserForUsername =(user) => {\n\n        userService.findUserForUsername(user.username)\n            .then(newUser =>this.setState(\n                {user:newUser}))\n        console.log(this.state)\n    }\n\n    // findUserForUsername =(user) => {\n    //\n    //     userService.findUserForUsername(user.username)\n    //         .then((user =>this.setState(\n    //             (prevState) => ({\n    //                 ...prevState,\n    //                 user: [\n    //                     ...prevState.user,\n    //                     user\n    //                 ]\n    //             }))))\n    //     console.log(this.state.user)\n    //\n    // }\n\n    addUser=(user) => {\n\n        userService.createUser(user)\n            .then(user =>this.setState(\n                (prevState) => ({\n                    ...prevState,\n                    users: [\n                        ...prevState.users,\n                        user\n                    ]\n                })))\n    }\n\n\n\n\n\n    deleteUser = (courseToDelete) => {\n        userService.deleteUser(courseToDelete.userId)\n            .then(status => {\n                this.setState((prevState) =>{\n                    let nextState = {\n                        ...prevState,\n                        users:  prevState\n                            .users\n                            .filter(user => user !== courseToDelete)\n                    }\n\n                    return nextState\n                })\n            })\n    }\n\n    updateUser = (user) => {\n        userService.updateUser(user.userId, user)\n            .then(status => this.setState((prevState) =>({\n                ...prevState,\n                users: prevState.users.map(\n                    c =>c.userId === user.userId ? user : c)\n            })))\n\n    }\n    render() {\n        return (\n\n\n                <div>\n                    <i onClick={() => this.componentDidMount()} className=\"fas fa-plus float-right\"></i>\n                <Route path=\"/\" exact={true}>\n                    <Login\n                        findUserForUsername = {this.findUserForUsername}\n                        users={this.state.users} />\n                </Route>\n\n\n                <Route path=\"/login\" exact={true}>\n                    <Login\n\n                        findUserForUsername = {this.findUserForUsername}\n                        users={this.state.users} />\n                </Route>\n                <Route path=\"/register\" exact={true}>\n                    <Register\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                <Route path=\"/profile\" exact={true}>\n                    <Profile\n                        findUserForUsername = {this.findUserForUsername}\n                        updateUser={this.updateUser}\n                        user={this.state.user} />\n                </Route>\n                {/*<Route path=\"/\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n\n\n                {/*<Route path=\"/login\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/register\" exact={true}>*/}\n                {/*    <Register*/}\n                {/*       />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/profile\" exact={true}>*/}\n                {/*    <Profile*/}\n                {/*       />*/}\n                {/*</Route>*/}\n\n\n\n\n            </div>\n        )\n    }\n\n\n\n}\n\n\nexport default UserManagement"]},"metadata":{},"sourceType":"module"}