{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js\";\nimport React, { useState } from 'react';\nimport Login from \"./login/login\";\nimport Profile from \"./login/profile\";\nimport Register from \"./login/register\";\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\nclass UserManagement extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: []\n    };\n\n    this.componentDidMount = () => {\n      userService.findAllUsers().then(users => this.setState({\n        users\n      }));\n    };\n\n    this.addUser = user => {\n      userService.createUser(user).then(user => this.setState(prevState => ({ ...prevState,\n        users: [...prevState.users, user]\n      })));\n    };\n\n    this.deleteUser = courseToDelete => {\n      userService.deleteUser(courseToDelete.userId).then(status => {\n        this.setState(prevState => {\n          let nextState = { ...prevState,\n            users: prevState.users.filter(user => user !== courseToDelete)\n          };\n          return nextState;\n        });\n      });\n    };\n\n    this.updateUser = user => {\n      userService.updateUser(user.userId, user).then(status => this.setState(prevState => ({ ...prevState,\n        users: prevState.users.map(c => c.userId === user.userId ? user : c)\n      })));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Register, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Profile, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default UserManagement;","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js"],"names":["React","useState","Login","Profile","Register","BrowserRouter","Router","Link","Route","Switch","userService","UserManagement","Component","state","users","componentDidMount","findAllUsers","then","setState","addUser","user","createUser","prevState","deleteUser","courseToDelete","userId","status","nextState","filter","updateUser","map","c","render"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport Login from \"./login/login\"\nimport Profile from \"./login/profile\"\nimport Register from \"./login/register\"\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\n\n\nclass UserManagement extends React.Component {\n\n\n\n    state = {\n        users : []\n    }\n    componentDidMount=() => {\n\n        userService.findAllUsers()\n            .then(users => this.setState({users}))\n    }\n\n    addUser=(user) => {\n\n        userService.createUser(user)\n            .then(user =>this.setState(\n                (prevState) => ({\n                    ...prevState,\n                    users: [\n                        ...prevState.users,\n                        user\n                    ]\n                })))\n    }\n\n\n\n\n\n    deleteUser = (courseToDelete) => {\n        userService.deleteUser(courseToDelete.userId)\n            .then(status => {\n                this.setState((prevState) =>{\n                    let nextState = {\n                        ...prevState,\n                        users:  prevState\n                            .users\n                            .filter(user => user !== courseToDelete)\n                    }\n\n                    return nextState\n                })\n            })\n    }\n\n    updateUser = (user) => {\n        userService.updateUser(user.userId, user)\n            .then(status => this.setState((prevState) =>({\n                ...prevState,\n                users: prevState.users.map(\n                    c =>c.userId === user.userId ? user : c)\n            })))\n\n    }\n    render() {\n        return (\n            <div>\n                <Route path=\"/\" exact={true}>\n                    <Login\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n\n\n                <Route path=\"/login\" exact={true}>\n                    <Login\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                <Route path=\"/register\" exact={true}>\n                    <Register\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                <Route path=\"/profile\" exact={true}>\n                    <Profile\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                {/*<Route path=\"/\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n\n\n                {/*<Route path=\"/login\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/register\" exact={true}>*/}\n                {/*    <Register*/}\n                {/*       />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/profile\" exact={true}>*/}\n                {/*    <Profile*/}\n                {/*       />*/}\n                {/*</Route>*/}\n\n\n\n\n            </div>\n        )\n    }\n\n\n\n}\n\n\nexport default UserManagement"]},"metadata":{},"sourceType":"module"}