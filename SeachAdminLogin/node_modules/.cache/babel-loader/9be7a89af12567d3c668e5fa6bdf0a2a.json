{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Login from \"./login/login\";\nimport Profile from \"./login/profile\";\nimport Register from \"./login/register\";\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\nconst UserManagement = () => {\n  _s();\n\n  const [user, setUser] = useState([]);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    findAllUsers();\n    findUserForUsername(user);\n    console.log(users);\n  }, []);\n\n  const login = newUser => {\n    setUser(newUser);\n  };\n\n  const findAllUsers = () => {\n    userService.findAllUsers().then(users => setUsers(users));\n  };\n\n  const findUserForUsername = user => {\n    userService.findUserForUsername(user.username).then(newUser => {\n      setUser(newUser);\n      console.log(newUser);\n    });\n  };\n\n  const addUser = user => {\n    userService.createUser(user).then(user => this.setState(prevState => ({ ...prevState,\n      users: [...prevState.users, user]\n    })));\n  };\n\n  const deleteUser = courseToDelete => {\n    userService.deleteUser(courseToDelete.userId).then(status => {\n      this.setState(prevState => {\n        let nextState = { ...prevState,\n          users: prevState.users.filter(user => user !== courseToDelete)\n        };\n        return nextState;\n      });\n    });\n  };\n\n  const updateUser = user => {\n    userService.updateUser(user.userId, user).then(status => this.setState(prevState => ({ ...prevState,\n      users: prevState.users.map(c => c.userId === user.userId ? user : c)\n    })));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    findUserForUsername: findUserForUsername,\n    updateUser: updateUser,\n    users: users,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    findUserForUsername: findUserForUsername,\n    updateUser: updateUser,\n    users: users,\n    user: user,\n    login: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Register, {\n    updateUser: updateUser,\n    deleteUser: deleteUser,\n    users: users,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/profile\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Profile, {\n    findUserForUsername: findUserForUsername,\n    updateUser: updateUser,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(UserManagement, \"omO3J4/sqG8n11EhtYPFijTeqKg=\");\n\n_c = UserManagement;\nexport default UserManagement;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js"],"names":["React","useState","useEffect","Login","Profile","Register","BrowserRouter","Router","Link","Route","Switch","userService","UserManagement","user","setUser","users","setUsers","findAllUsers","findUserForUsername","console","log","login","newUser","then","username","addUser","createUser","setState","prevState","deleteUser","courseToDelete","userId","status","nextState","filter","updateUser","map","c"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Login from \"./login/login\"\nimport Profile from \"./login/profile\"\nimport Register from \"./login/register\"\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\n\n\nconst UserManagement =() => {\n\n    const [user, setUser] = useState([])\n    const [users, setUsers] = useState([])\n\n\n\n     useEffect(() => {\n        findAllUsers()\n        findUserForUsername(user)\n        console.log(users)\n    }, [])\n\n    const login = (newUser) => {\n        setUser(newUser)\n    }\n\n    const findAllUsers = () =>{\n        userService.findAllUsers()\n            .then(users => setUsers(users))\n    }\n\n    const findUserForUsername =(user) => {\n        userService.findUserForUsername(user.username)\n            .then((newUser) => {\n                setUser(newUser)\n                console.log(newUser)})\n\n    }\n\n\n    const addUser=(user) => {\n\n        userService.createUser(user)\n            .then(user =>this.setState(\n                (prevState) => ({\n                    ...prevState,\n                    users: [\n                        ...prevState.users,\n                        user\n                    ]\n                })))\n    }\n\n\n\n\n\n    const deleteUser = (courseToDelete) => {\n        userService.deleteUser(courseToDelete.userId)\n            .then(status => {\n                this.setState((prevState) =>{\n                    let nextState = {\n                        ...prevState,\n                        users:  prevState\n                            .users\n                            .filter(user => user !== courseToDelete)\n                    }\n\n                    return nextState\n                })\n            })\n    }\n\n    const updateUser = (user) => {\n        userService.updateUser(user.userId, user)\n            .then(status => this.setState((prevState) =>({\n                ...prevState,\n                users: prevState.users.map(\n                    c =>c.userId === user.userId ? user : c)\n            })))\n\n    }\n\n        return (\n\n                <div>\n\n                <Route path=\"/\" exact={true}>\n                    <Login\n                        findUserForUsername = {findUserForUsername}\n                        updateUser = {updateUser}\n                        users={users}\n                        user = {user}/>\n                </Route>\n\n\n                <Route path=\"/login\" exact={true}>\n                    <Login\n\n                        findUserForUsername = {findUserForUsername}\n                        updateUser = {updateUser}\n                        users={users}\n                        user = {user}\n                        login = {login}/>\n                </Route>\n                <Route path=\"/register\" exact={true}>\n                    <Register\n                        updateUser = {updateUser}\n                        deleteUser={deleteUser}\n                        users={users} />\n                </Route>\n                <Route path=\"/profile\" exact={true}>\n                    <Profile\n                        findUserForUsername = {findUserForUsername}\n                        updateUser={updateUser}\n                        user={user} />\n                </Route>\n                {/*<Route path=\"/\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n\n\n                {/*<Route path=\"/login\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/register\" exact={true}>*/}\n                {/*    <Register*/}\n                {/*       />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/profile\" exact={true}>*/}\n                {/*    <Profile*/}\n                {/*       />*/}\n                {/*</Route>*/}\n\n\n\n\n            </div>\n        )\n\n\n\n}\n\n\nexport default UserManagement"]},"metadata":{},"sourceType":"module"}