{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Login from \"./login/login\";\nimport Profile from \"./login/profile\";\nimport Register from \"./login/register\";\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport userService from \"../services/user-service\";\nimport ResetPassword from \"./login/ResetPassword\";\n\nconst UserManagement = () => {\n  _s();\n\n  const [user, setUser] = useState({});\n  const [users, setUsers] = useState([]);\n  const [serverUser, setServerUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  useEffect(() => {\n    findAllUsers();\n    console.log(users);\n  }, []);\n\n  const findAllUsers = () => {\n    userService.findAllUsers().then(users => setUsers(users));\n  };\n\n  const findUserForUsername = user => {\n    userService.findUserForUsername(user.username).then(newUser => {\n      setServerUser(newUser);\n      console.log(\"finduser\");\n      console.log(newUser);\n    });\n  };\n\n  const addUser = user => {\n    userService.createUser(user.username, user).then(user => {\n      setUsers({\n        users: [...users, user]\n      });\n      console.log(\"creatuser\");\n      console.log(users);\n    });\n  };\n\n  const updateUser = (userId, user) => {\n    userService.updateUser(userId, user).then(status => {\n      users.map(newuser => newuser.userId !== user.userId ? newuser : user);\n      console.log(\"updateuser\");\n      console.log(user);\n    });\n  };\n\n  const resetUser = resetuser => {\n    userService.findUserForUsername(resetuser.username).then(mapuser => {\n      updateUser(mapuser[0].userId, { ...resetuser,\n        userId: mapuser[0].userId\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    findUserForUsername: findUserForUsername,\n    updateUser: updateUser,\n    users: users,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    findUserForUsername: findUserForUsername,\n    updateUser: updateUser,\n    users: users,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Register, {\n    addUser: addUser,\n    users: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/profile\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Profile, {\n    findUserForUsername: findUserForUsername,\n    updateUser: updateUser,\n    user: user[0],\n    serverUser: serverUser[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/reset\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ResetPassword, {\n    findUserForUsername: findUserForUsername,\n    resetUser: resetUser,\n    user: user[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  })));\n};\n\n_s(UserManagement, \"OtODxZsDygyLVlKVU1KQ7YAwjkU=\");\n\n_c = UserManagement;\nexport default UserManagement;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js"],"names":["React","useState","useEffect","Login","Profile","Register","BrowserRouter","Router","Link","Route","Switch","userService","ResetPassword","UserManagement","user","setUser","users","setUsers","serverUser","setServerUser","username","password","findAllUsers","console","log","then","findUserForUsername","newUser","addUser","createUser","updateUser","userId","status","map","newuser","resetUser","resetuser","mapuser"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Login from \"./login/login\"\nimport Profile from \"./login/profile\"\nimport Register from \"./login/register\"\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport userService from \"../services/user-service\";\nimport ResetPassword from \"./login/ResetPassword\";\n\n\n\nconst UserManagement =() => {\n\n    const [user, setUser] = useState({})\n    const [users, setUsers] = useState([])\n    const [serverUser, setServerUser] = useState({username:\"\", password:\"\"})\n\n\n\n     useEffect(() => {\n        findAllUsers()\n        console.log(users)\n    }, [])\n\n\n    const findAllUsers = () =>{\n        userService.findAllUsers()\n            .then(users => setUsers(users))\n    }\n\n    const findUserForUsername =(user) => {\n        userService.findUserForUsername(user.username)\n            .then((newUser) => {\n                setServerUser(newUser)\n                console.log(\"finduser\")\n                console.log(newUser)})\n\n    }\n\n\n    const addUser=(user) => {\n\n        userService.createUser(user.username,user)\n            .then(user => {setUsers({\n                    users: [\n                        ...users,\n                        user\n                    ]\n                })\n            console.log(\"creatuser\")\n            console.log(users)})\n    }\n\n\n\n    const updateUser = (userId, user) => {\n        userService.updateUser(userId, user)\n            .then((status) =>{users.map(newuser => newuser.userId !== user.userId ? newuser : user)\n                console.log(\"updateuser\")\n                console.log(user)})\n\n    }\n\n    const resetUser = (resetuser) => {\n        userService.findUserForUsername(resetuser.username)\n            .then(mapuser=> {updateUser(mapuser[0].userId, {...resetuser, userId:mapuser[0].userId})\n\n    })}\n\n\n    return (\n\n                <div>\n\n                <Route path=\"/\" exact={true}>\n                    <Login\n                        findUserForUsername = {findUserForUsername}\n                        updateUser = {updateUser}\n                        users={users}\n                        user = {user}/>\n                </Route>\n\n\n                <Route path=\"/login\" exact={true}>\n                    <Login\n\n                        findUserForUsername = {findUserForUsername}\n                        updateUser = {updateUser}\n                        users={users}\n                        user = {user}\n                        />\n                </Route>\n                <Route path=\"/register\" exact={true}>\n                    <Register\n                        addUser = {addUser}\n                        users={user} />\n                </Route>\n                <Route path=\"/profile\" exact={true}>\n                    <Profile\n                        findUserForUsername = {findUserForUsername}\n                        updateUser={updateUser}\n                        user={user[0]}\n                        serverUser = {serverUser[0]}/>\n\n                </Route>\n                <Route path=\"/reset\" exact={true}>\n                    <ResetPassword\n                        findUserForUsername = {findUserForUsername}\n                        resetUser={resetUser}\n                        user={user[0]} />\n\n                </Route>\n                {/*<Route path=\"/\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n\n\n                {/*<Route path=\"/login\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/register\" exact={true}>*/}\n                {/*    <Register*/}\n                {/*       />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/profile\" exact={true}>*/}\n                {/*    <Profile*/}\n                {/*       />*/}\n                {/*</Route>*/}\n\n\n\n\n            </div>\n        )\n\n\n\n}\n\nexport default UserManagement"]},"metadata":{},"sourceType":"module"}