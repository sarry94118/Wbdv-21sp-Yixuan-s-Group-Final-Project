{"ast":null,"code":"var _jsxFileName = \"/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js\";\nimport React, { useState } from 'react';\nimport Login from \"./login/login\";\nimport Profile from \"./login/profile\";\nimport Register from \"./login/register\";\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\nclass UserManagement extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: []\n    };\n\n    this.componentDidMount = () => {\n      userService.findAllUsers().then(users => this.setState({\n        users\n      }));\n      console.log(this.state.users);\n    };\n\n    this.findUserForUsername = user => {\n      userService.findUserForUsername(user.username).then(status => {\n        this.setState(prevState => {\n          let nextState = { ...prevState,\n            users: [...prevState.users]\n          };\n          return nextState;\n        });\n      });\n    };\n\n    this.addUser = user => {\n      userService.createUser(user).then(user => this.setState(prevState => ({ ...prevState,\n        users: [...prevState.users, user]\n      })));\n    };\n\n    this.deleteUser = courseToDelete => {\n      userService.deleteUser(courseToDelete.userId).then(status => {\n        this.setState(prevState => {\n          let nextState = { ...prevState,\n            users: prevState.users.filter(user => user !== courseToDelete)\n          };\n          return nextState;\n        });\n      });\n    };\n\n    this.updateUser = user => {\n      userService.updateUser(user.userId, user).then(status => this.setState(prevState => ({ ...prevState,\n        users: prevState.users.map(c => c.userId === user.userId ? user : c)\n      })));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      findUserForUsername: this.findUserForUsername,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Login, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/register\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Register, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Profile, {\n      updateUser: this.updateUser,\n      deleteUser: this.deleteUser,\n      users: this.state.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default UserManagement;","map":{"version":3,"sources":["/Users/yixuanliao/sarry94118/2021/spring/02/petfinder/login:register/petfinder-project/src/components/user-management.js"],"names":["React","useState","Login","Profile","Register","BrowserRouter","Router","Link","Route","Switch","userService","UserManagement","Component","state","users","componentDidMount","findAllUsers","then","setState","console","log","findUserForUsername","user","username","status","prevState","nextState","addUser","createUser","deleteUser","courseToDelete","userId","filter","updateUser","map","c","render"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport Login from \"./login/login\"\nimport Profile from \"./login/profile\"\nimport Register from \"./login/register\"\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport userService from \"../services/user-service\";\n\n\n\nclass UserManagement extends React.Component {\n\n\n\n    state = {\n        users : []\n    }\n    componentDidMount=() => {\n\n        userService.findAllUsers()\n            .then(users => this.setState({users}))\n        console.log(this.state.users)\n    }\n\n    findUserForUsername=(user) => {\n\n        userService.findUserForUsername(user.username)\n            .then(status => {\n                this.setState((prevState) =>{\n                    let nextState = {\n                        ...prevState,\n                        users:[\n                            ...prevState.users\n                        ]\n                    }\n\n                    return nextState\n                })\n            })\n\n    }\n\n    addUser=(user) => {\n\n        userService.createUser(user)\n            .then(user =>this.setState(\n                (prevState) => ({\n                    ...prevState,\n                    users: [\n                        ...prevState.users,\n                        user\n                    ]\n                })))\n    }\n\n\n\n\n\n    deleteUser = (courseToDelete) => {\n        userService.deleteUser(courseToDelete.userId)\n            .then(status => {\n                this.setState((prevState) =>{\n                    let nextState = {\n                        ...prevState,\n                        users:  prevState\n                            .users\n                            .filter(user => user !== courseToDelete)\n                    }\n\n                    return nextState\n                })\n            })\n    }\n\n    updateUser = (user) => {\n        userService.updateUser(user.userId, user)\n            .then(status => this.setState((prevState) =>({\n                ...prevState,\n                users: prevState.users.map(\n                    c =>c.userId === user.userId ? user : c)\n            })))\n\n    }\n    render() {\n        return (\n            <div>\n                <Route path=\"/\" exact={true}>\n                    <Login\n                        findUserForUsername = {this.findUserForUsername}\n                        users={this.state.users} />\n                </Route>\n\n\n                <Route path=\"/login\" exact={true}>\n                    <Login\n\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                <Route path=\"/register\" exact={true}>\n                    <Register\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                <Route path=\"/profile\" exact={true}>\n                    <Profile\n                        updateUser = {this.updateUser}\n                        deleteUser={this.deleteUser}\n                        users={this.state.users} />\n                </Route>\n                {/*<Route path=\"/\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n\n\n                {/*<Route path=\"/login\" exact={true}>*/}\n                {/*    <Login*/}\n                {/*        />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/register\" exact={true}>*/}\n                {/*    <Register*/}\n                {/*       />*/}\n                {/*</Route>*/}\n                {/*<Route path=\"/profile\" exact={true}>*/}\n                {/*    <Profile*/}\n                {/*       />*/}\n                {/*</Route>*/}\n\n\n\n\n            </div>\n        )\n    }\n\n\n\n}\n\n\nexport default UserManagement"]},"metadata":{},"sourceType":"module"}