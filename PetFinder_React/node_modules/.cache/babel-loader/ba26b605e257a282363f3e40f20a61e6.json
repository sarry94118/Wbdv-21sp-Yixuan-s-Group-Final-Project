{"ast":null,"code":"import axios from \"axios\"; // const API_URL = \"http://localhost:8090/api/users\";\n// const API_URL = \"http://localhost:8080/api/users\";\n// <<<<<<< HEAD\n// <<<<<<< HEAD\n\n{\n  /*=======*/\n} // <<<<<<< HEAD\n// >>>>>>> 441cf0e02bfc4e5cf70da01ac18432764e4cbf68\n// const API_URL = \"https://petfinderserver.herokuapp.com/api/users\";\n\nconst PET_URL = process.env.REACT_APP_PET_URL;\nconst API_URL = PET_URL + \"/users\"; // <<<<<<< HEAD\n// =======\n// const API_URL = \"https://petfinderserver2.herokuapp.com/api/users\";\n// >>>>>>> 540f506ba4b6e8f62a29b143bd175e2b361f2089\n// =======\n// =======\n// const API_URL = \"https://petfinderserver2.herokuapp.com/api/users\";\n// >>>>>>> 540f506ba4b6e8f62a29b143bd175e2b361f2089\n// >>>>>>> 441cf0e02bfc4e5cf70da01ac18432764e4cbf68\n\nexport const findAllUsers = () => fetch(API_URL).then(response => response.json());\nexport const createUser = (username, user) => fetch(`${API_URL}/username/${username}`, {\n  method: 'POST',\n  body: JSON.stringify(user),\n  headers: {\n    'content-type': 'application/json'\n  }\n}).then(response => response.json());\nexport const deleteUser = uid => fetch(`${API_URL}/${uid}`, {\n  method: 'DELETE'\n}).then(response => response.json());\nexport const updateUser = (uid, user) => fetch(`${API_URL}/userid/${uid}`, {\n  method: 'PUT',\n  credentials: 'same-origin',\n  body: JSON.stringify(user),\n  headers: {\n    'content-type': 'application/json'\n  }\n}).then(response => response.json());\nexport const findUserByUserId = uid => fetch(`${API_URL}/userid/${uid}`).then(response => {\n  if (response) {\n    return response.json();\n  } else {\n    return null;\n  }\n}); // @GetMapping(\"/api/users/username/{user}\")\n\nexport const findUserForUsername = username => fetch(`${API_URL}/username/${username}`).then(response => {\n  if (response) {\n    return response.json();\n  } else {\n    return null;\n  }\n}); //added by Meng Wang\n// api/users/register\n\nconst register = credentials => {\n  console.log(\"user service register\");\n  console.log(JSON.stringify(credentials));\n  return fetch(`${API_URL}/register`, {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify(credentials),\n    headers: {\n      'content-type': 'application/json'\n    }\n  }).then(response => {\n    // console.log(\"response.json=\" + response.json())\n    return response.json(); // if(response){\n    //     console.log(response)\n    //     return response.json()\n    // }else{\n    //     return null\n    // }\n  });\n};\n\nconst createUserWithoutLogin = credentials => {\n  console.log(\"user service create\");\n  console.log(JSON.stringify(credentials));\n  return fetch(`${API_URL}/create`, {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify(credentials),\n    headers: {\n      'content-type': 'application/json'\n    }\n  }).then(response => {\n    return response.json();\n  });\n}; //added by Meng Wang\n\n\nconst profile = () => {\n  return fetch(`${API_URL}/profile`, {\n    method: \"POST\",\n    credentials: \"include\"\n  }).then(response => response.json());\n}; //added by Meng Wang\n\n\nconst login = credentials => {\n  return fetch(`${API_URL}/login`, {\n    method: \"POST\",\n    credentials: \"include\",\n    body: JSON.stringify(credentials),\n    headers: {\n      'content-type': 'application/json'\n    }\n  }).then(response => response.json());\n}; //added by Meng Wang\n\n\nconst logout = () => {\n  return fetch(`${API_URL}/logout`, {\n    method: \"POST\",\n    credentials: \"include\"\n  }).then(() => {});\n};\n\nexport default {\n  createUser,\n  deleteUser,\n  updateUser,\n  findUserForUsername,\n  findUserByUserId,\n  findAllUsers,\n  register,\n  login,\n  logout,\n  profile,\n  createUserWithoutLogin\n};","map":{"version":3,"sources":["/Users/meng/Development/Wbdv-21sp-Yixuan-s-Group-Final-Project/SeachAdminLogin/src/services/user-service.js"],"names":["axios","PET_URL","process","env","REACT_APP_PET_URL","API_URL","findAllUsers","fetch","then","response","json","createUser","username","user","method","body","JSON","stringify","headers","deleteUser","uid","updateUser","credentials","findUserByUserId","findUserForUsername","register","console","log","createUserWithoutLogin","profile","login","logout"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n// const API_URL = \"http://localhost:8090/api/users\";\n// const API_URL = \"http://localhost:8080/api/users\";\n// <<<<<<< HEAD\n// <<<<<<< HEAD\n{/*=======*/}\n// <<<<<<< HEAD\n// >>>>>>> 441cf0e02bfc4e5cf70da01ac18432764e4cbf68\n// const API_URL = \"https://petfinderserver.herokuapp.com/api/users\";\n\nconst PET_URL=process.env.REACT_APP_PET_URL\n\nconst API_URL = PET_URL + \"/users\"\n// <<<<<<< HEAD\n// =======\n// const API_URL = \"https://petfinderserver2.herokuapp.com/api/users\";\n// >>>>>>> 540f506ba4b6e8f62a29b143bd175e2b361f2089\n// =======\n// =======\n// const API_URL = \"https://petfinderserver2.herokuapp.com/api/users\";\n// >>>>>>> 540f506ba4b6e8f62a29b143bd175e2b361f2089\n// >>>>>>> 441cf0e02bfc4e5cf70da01ac18432764e4cbf68\n\nexport const findAllUsers = () =>\n    fetch(API_URL)\n        .then(response => response.json())\n\nexport const createUser = (username, user) =>\n    fetch(`${API_URL}/username/${username}`, {\n        method: 'POST',\n        body: JSON.stringify(user),\n        headers:{\n            'content-type': 'application/json'\n        }\n    })\n        .then(response => response.json())\n\nexport const deleteUser = (uid) =>\n    fetch(`${API_URL}/${uid}`, {\n        method:'DELETE',\n    })\n        .then(response => response.json())\n\n\nexport const updateUser = (uid, user) =>\n    fetch(`${API_URL}/userid/${uid}`, {\n        method: 'PUT',\n        credentials: 'same-origin',\n        body: JSON.stringify(user),\n        headers:{\n            'content-type': 'application/json'\n        }\n    })\n        .then(response => response.json())\n\n\nexport const findUserByUserId =(uid) =>\n    fetch(`${API_URL}/userid/${uid}`)\n        .then(response => {\n            if (response) {\n                return response.json()\n            }else{\n                return null\n            }\n        })\n\n// @GetMapping(\"/api/users/username/{user}\")\nexport const findUserForUsername= (username) =>\n    fetch(`${API_URL}/username/${username}`)\n        .then(response => {\n            if (response) {\n                return response.json()\n            }else{\n                return null\n            }\n        })\n\n//added by Meng Wang\n// api/users/register\nconst register = (credentials) => {\n    console.log(\"user service register\")\n    console.log(JSON.stringify(credentials))\n    return fetch(`${API_URL}/register`, {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(credentials),\n        headers: {\n            'content-type': 'application/json'\n        }\n    })\n        .then(response => {\n            // console.log(\"response.json=\" + response.json())\n            return response.json()\n            // if(response){\n            //     console.log(response)\n            //     return response.json()\n            // }else{\n            //     return null\n            // }\n        })\n}\n\n\nconst createUserWithoutLogin = (credentials)=>{\n    console.log(\"user service create\")\n    console.log(JSON.stringify(credentials))\n    return fetch(`${API_URL}/create`, {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(credentials),\n        headers: {\n            'content-type': 'application/json'\n        }\n    })\n        .then(response => {\n            return response.json()\n        })\n}\n\n//added by Meng Wang\nconst profile = () => {\n    return fetch(`${API_URL}/profile`, {\n        method: \"POST\",\n        credentials: \"include\"\n    }).then(response => response.json())\n}\n\n//added by Meng Wang\nconst login = (credentials) => {\n    return fetch(`${API_URL}/login`, {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(credentials),\n        headers: {\n            'content-type': 'application/json'\n        }\n    })\n        .then(response => response.json())\n}\n\n//added by Meng Wang\nconst logout = () => {\n    return fetch(`${API_URL}/logout`, {\n        method: \"POST\",\n        credentials: \"include\"\n    }).then(() => {})\n}\n\nexport default {\n    createUser,\n    deleteUser,\n    updateUser,\n    findUserForUsername,\n    findUserByUserId,\n    findAllUsers,\n    register,\n    login,\n    logout,\n    profile,\n    createUserWithoutLogin\n};"]},"metadata":{},"sourceType":"module"}